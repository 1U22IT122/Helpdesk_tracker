<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helpdesk Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <div class="container">
    <h1>Helpdesk Ticket System</h1>

    <div class="dashboard">
      <div class="card" id="openCount">Open: 0</div>
      <div class="card" id="progressCount">In Progress: 0</div>
      <div class="card" id="closedCount">Closed: 0</div>
    </div>

    <div class="controls">
      <input type="text" id="searchBox" placeholder="Search by title or status...">
      <button id="addTicketBtn">+ Add Ticket</button>
      <button id="logoutBtn" class="logout-btn">Logout</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Status</th>
          <th>Priority</th>
          <th>Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="ticketTableBody"></tbody>
    </table>
  </div>

  <!-- Modal -->
  <div class="modal" id="ticketModal">
    <div class="modal-content">
      <h2 id="modalTitle">Add Ticket</h2>
      <form id="ticketForm">
        <label>Title*</label>
        <input type="text" id="title" required>

        <label>Description</label>
        <textarea id="description"></textarea>

        <label>Category</label>
        <select id="category">
          <option>Technical</option>
          <option>Billing</option>
          <option>General</option>
        </select>

        <label>Priority</label>
        <select id="priority">
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
        </select>

        <label>Status</label>
        <select id="status">
          <option>Open</option>
          <option>In Progress</option>
          <option>Closed</option>
        </select>

        <div class="modal-actions">
          <button type="submit" id="saveBtn">Save</button>
          <button type="button" id="cancelBtn">Cancel</button>
        </div>
      </form>
    </div>
  </div>
    <script src="script.js"></script>
    <script>
      
// Check if user is logged in
  const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

  if (!loggedInUser) {
    // If not logged in, redirect to login page
    alert("Please log in first!");
    window.location.href = "login.html";
  }
    </script>
</body>
</html>
